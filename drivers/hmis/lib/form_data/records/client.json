{
  "item": [
    {
      "type": "STRING",
      "link_id": "client-id",
      "hidden": true,
      "initial": [
        {
          "initial_behavior": "OVERWRITE",
          "value_local_constant": "$clientId"
        }
      ]
    },
    {
      "type": "BOOLEAN",
      "link_id": "see-ssn",
      "hidden": true,
      "initial": [
        {
          "initial_behavior": "OVERWRITE",
          "value_local_constant": "$canViewFullSsn"
        }
      ]
    },
    {
      "type": "BOOLEAN",
      "link_id": "see-dob",
      "hidden": true,
      "initial": [
        {
          "initial_behavior": "OVERWRITE",
          "value_local_constant": "$canViewDob"
        }
      ]
    },
    {
      "type": "GROUP",
      "link_id": "name",
      "text": "Name",
      "required": false,
      "item": [
        {
          "type": "GROUP",
          "link_id": "name-group",
          "component": "HORIZONTAL_GROUP",
          "item": [
            {
              "type": "STRING",
              "required": false,
              "link_id": "first-name",
              "text": "First Name",
              "field_name": "firstName"
            },
            {
              "type": "STRING",
              "required": false,
              "link_id": "middle-name",
              "text": "Middle Name",
              "field_name": "middleName"
            },
            {
              "type": "STRING",
              "required": false,
              "link_id": "last-name",
              "text": "Last Name",
              "field_name": "lastName"
            },
            {
              "type": "STRING",
              "required": false,
              "link_id": "name-suffix",
              "text": "Suffix",
              "field_name": "nameSuffix",
              "size": "XSMALL"
            }
          ]
        },
        {
          "type": "STRING",
          "required": false,
          "link_id": "preferred-name",
          "text": "Preferred Name",
          "field_name": "preferredName"
        },
        {
          "type": "GROUP",
          "component": "INFO_GROUP",
          "link_id": "dq-group",
          "item": [
            {
              "type": "CHOICE",
              "required": false,
              "link_id": "name-dq",
              "text": "Name Data Quality",
              "field_name": "nameDataQuality",
              "pick_list_reference": "NameDataQuality"
            }
          ]
        }
      ]
    },
    {
      "type": "GROUP",
      "required": false,
      "text": "Identification",
      "link_id": "identification",
      "item": [
        {
          "type": "DATE",
          "required": false,
          "link_id": "dob",
          "text": "Date of Birth",
          "field_name": "dob",
          "enable_when": [
            {
              "question": "see-dob",
              "operator": "EQUAL",
              "answer_boolean": true
            }
          ]
        },
        {
          "type": "GROUP",
          "component": "INFO_GROUP",
          "link_id": "dob-group",
          "item": [
            {
              "type": "CHOICE",
              "required": false,
              "link_id": "dob-dq",
              "text": "DOB Data Quality",
              "field_name": "dobDataQuality",
              "pick_list_reference": "DOBDataQuality"
            }
          ],
          "enable_when": [
            {
              "question": "see-dob",
              "operator": "EQUAL",
              "answer_boolean": true
            }
          ]
        },
        {
          "type": "STRING",
          "required": false,
          "link_id": "ssn",
          "text": "Social Security Number",
          "field_name": "ssn",
          "component": "SSN",
          "enable_when": [
            {
              "question": "see-ssn",
              "operator": "EQUAL",
              "answer_boolean": true
            }
          ]
        },
        {
          "type": "GROUP",
          "component": "INFO_GROUP",
          "link_id": "ssn-group",
          "item": [
            {
              "type": "CHOICE",
              "required": false,
              "link_id": "ssn-dq",
              "text": "SSN Data Quality",
              "field_name": "ssnDataQuality",
              "pick_list_reference": "SSNDataQuality"
            }
          ],
          "enable_when": [
            {
              "question": "see-ssn",
              "operator": "EQUAL",
              "answer_boolean": true
            }
          ]
        }
      ],
      "enable_behavior": "ANY",
      "enable_when": [
        {
          "question": "see-dob",
          "operator": "EQUAL",
          "answer_boolean": true
        },
        {
          "question": "see-ssn",
          "operator": "EQUAL",
          "answer_boolean": true
        }
      ]
    },
    {
      "type": "GROUP",
      "required": false,
      "link_id": "demographics",
      "text": "Demographics",
      "item": [
        {
          "type": "CHOICE",
          "required": false,
          "link_id": "race",
          "text": "Race",
          "repeats": true,
          "field_name": "race",
          "pick_list_reference": "Race"
        },
        {
          "type": "CHOICE",
          "required": false,
          "link_id": "ethnicity",
          "text": "Ethnicity",
          "repeats": false,
          "field_name": "ethnicity",
          "pick_list_reference": "Ethnicity"
        },
        {
          "type": "CHOICE",
          "required": false,
          "link_id": "gender",
          "text": "Gender",
          "repeats": true,
          "field_name": "gender",
          "pick_list_reference": "Gender"
        },
        {
          "type": "OPEN_CHOICE",
          "required": false,
          "link_id": "pronouns",
          "text": "Pronouns",
          "repeats": true,
          "field_name": "pronouns",
          "pick_list_options": [
            {
              "code": "she/her"
            },
            {
              "code": "he/him"
            },
            {
              "code": "they/them"
            }
          ]
        },
        {
          "type": "CHOICE",
          "required": false,
          "repeats": false,
          "link_id": "veteran-status",
          "text": "Veteran Status",
          "field_name": "veteranStatus",
          "pick_list_reference": "NoYesReasonsForMissingData"
        }
      ]
    },
    {
      "type": "GROUP",
      "required": false,
      "link_id": "mci-clearance",
      "text": "MCI ID",
      "item": [
        {
          "type": "STRING",
          "required": true,
          "link_id": "mci-clearance-value",
          "component": "MCI",
          "text": "MCI ID",
          "field_name": "mciIdFIXME",
          "disabled_display": "PROTECTED",
          "enable_behavior": "ALL",
          "_comment": "TODO should also disable if client already has an mci id.",
          "enable_when": [
            {
              "question": "first-name",
              "operator": "EXISTS",
              "answer_boolean": true
            },
            {
              "question": "last-name",
              "operator": "EXISTS",
              "answer_boolean": true
            },
            {
              "question": "dob",
              "operator": "EXISTS",
              "answer_boolean": true
            }
          ]
        }
      ]
    },
    {
      "type": "GROUP",
      "required": false,
      "link_id": "image",
      "text": "Image",
      "enable_behavior": "ANY",
      "enable_when": [
        {
          "question": "client-id",
          "operator": "EXISTS",
          "answer_boolean": false
        }
      ],
      "item": [
        {
          "type": "IMAGE",
          "required": false,
          "link_id": "image_blob_id",
          "text": "Image",
          "field_name": "imageBlobId"
        }
      ]
    }
  ]
}
