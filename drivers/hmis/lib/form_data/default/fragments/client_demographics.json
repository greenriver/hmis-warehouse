{
  "type": "GROUP",
  "link_id": "demographics",
  "text": "Demographics",
  "item": [
    {
      "type": "CHOICE",
      "required": false,
      "link_id": "race",
      "text": "Race and Ethnicity",
      "repeats": true,
      "mapping": {
        "record_type": "CLIENT",
        "field_name": "race"
      },
      "pick_list_reference": "Race"
    },
    {
      "type": "STRING",
      "required": false,
      "warn_if_empty": false,
      "link_id": "race_other",
      "text": "Additional Race and Ethnicity Detail",
      "mapping": {
        "record_type": "CLIENT",
        "field_name": "additionalRaceEthnicity"
      },
      "enable_behavior": "ALL",
      "enable_when": [
        {
          "question": "race",
          "operator": "ENABLED",
          "answer_boolean": true
        }
      ]
    },
    {
      "type": "CHOICE",
      "required": false,
      "link_id": "gender",
      "text": "Gender",
      "repeats": true,
      "mapping": {
        "record_type": "CLIENT",
        "field_name": "gender"
      },
      "pick_list_reference": "Gender"
    },
    {
      "type": "GROUP",
      "link_id": "gender_conditionals",
      "item": [
        {
          "type": "TEXT",
          "required": false,
          "warn_if_empty": false,
          "link_id": "gender_other",
          "text": "If different identity, please specify",
          "mapping": {
            "record_type": "CLIENT",
            "field_name": "differentIdentityText"
          },
          "enable_behavior": "ALL",
          "enable_when": [
            {
              "question": "gender",
              "operator": "INCLUDES",
              "answer_code": "DIFFERENT_IDENTITY"
            }
          ]
        }
      ]
    },
    {
      "type": "OPEN_CHOICE",
      "required": false,
      "link_id": "pronouns",
      "text": "Pronouns",
      "repeats": true,
      "mapping": {
        "record_type": "CLIENT",
        "field_name": "pronouns"
      },
      "pick_list_options": [
        {
          "code": "she/her"
        },
        {
          "code": "he/him"
        },
        {
          "code": "they/them"
        }
      ]
    },
    {
      "type": "CHOICE",
      "required": false,
      "repeats": false,
      "link_id": "veteran_status",
      "text": "Veteran Status",
      "mapping": {
        "record_type": "CLIENT",
        "field_name": "veteranStatus"
      },
      "pick_list_reference": "NoYesReasonsForMissingData",
      "enable_behavior": "ANY",
      "enable_when": [
        {
          "_comment": "18yo cutoff date >= DOB. Aka client is adult.",
          "local_constant": "$age18Dob",
          "operator": "GREATER_THAN_EQUAL",
          "compare_question": "dob"
        },
        {
          "_comment": "DOB is unknown",
          "question": "dob",
          "operator": "EXISTS",
          "answer_boolean": false
        }
      ]
    },
    {
      "fragment": "#v1_veteran_info",
      "enable_behavior": "ALL",
      "enable_when": [
        {
          "question": "veteran_status",
          "operator": "EQUAL",
          "answer_code": "YES"
        }
      ]
    }
  ]
}
