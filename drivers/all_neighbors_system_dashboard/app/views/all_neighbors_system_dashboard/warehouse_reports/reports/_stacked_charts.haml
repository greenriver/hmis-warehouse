%div{class: css_namespace('all', 'stacked_group')}
  .my-7
    .row.justify-content-between.align-items-end
      .col-xs-12.col-md-9
        %div
          %h3= group
          %div
            %span{class: filter_label_id(tab[:id], filter_label)}
      .col-xs-12.col-md-3
        .d-flex.justify-content-end
          - if filter == 'demographics'
            = render 'select_filter', tab: tab, name: 'demographics', label: 'Demographics', options: filter_data

  - data.each_with_index do |d, i|
    .d-flex.justify-content-between
      - if show_chart_titles
        %h4= d[:title]
        - if hint && i == 0
          %small= hint
    %div{id: chart_id(tab[:id], "stacked_#{d[:id]}"), class: css_namespace('all', 'stacked')}
    %div{style: "padding-left:#{legend_padding}"}
      .row{id: "#{chart_id(tab[:id], "stacked_#{d[:id]}")}_legend"}